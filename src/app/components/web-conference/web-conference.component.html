<mat-toolbar>
    <span class="chatloopa-name">ChatLoopa</span>
    <span class="toolbar-spacer"></span>
    <button mat-raised-button (click)="startService()" color="success" *ngIf="!isServiceStarted">Start Chatting!</button>
    <span class="button-spacer"></span>
    <button mat-raised-button (click)="stopService()" color="warning" *ngIf="isServiceStarted"><mat-icon class="white-icon">call_end</mat-icon> Stop Chatting</button>
    <span class="button-spacer"></span>
    <button mat-raised-button (click)="nextPeer()" color="success" *ngIf="isServiceStarted">Next Peer</button>
</mat-toolbar>

<div class="">
    <p class="status-text" *ngIf="!isConnected && isServiceStarted">Searching for a peer for you to chat with...</p>
</div>

<div class="stream-container">
    <app-remote-video class="remote-stream-container" id="remote" autoplay #remote></app-remote-video>
    <app-local-video class="local-stream-container" id="local" autoplay #local></app-local-video>

    <mat-card class="control-container-card mat-elevation-z8">
        <mat-card-content>
            <button mat-button class="video-control-button" (click)="toggleLocalVideo()"><mat-icon class="white-icon">{{ videoSubject$ | async }}</mat-icon></button>
            <button mat-button class="video-control-button" (click)="toggleMicrophone()"><mat-icon class="white-icon">{{ micSubject$ | async }}</mat-icon></button>
        </mat-card-content>
    </mat-card>
</div>